<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-http-equiv="X-UA-Compatible" content="ie=edge">
<title>Pong</title>
<!-- stylar lite inline bara för att se hur det ser ut
flyttar till css filen sen!-->
<style>
#map{
  height:400px;
  width: 100%;
}
</style>
</head>
<body>

<div>
<h1>Pong</h1>
<h3><i>Text om pong</i></h3>
</div>

<!-- Detta är kod till api-->
<div id="map">
</div>
<script type="text/javascript">
//denna function behövs eftersom scr koden längst ner har ngt som kallas callback=initmap
//Vilket tyder på att den kommer kalla på funktionen initmap.
function initMap(){
  // Map options
  var options = {
    zoom:8, center:{lat:59.858131,lng:-17.644621}
  }

  //new map
  var map = new google.maps.Map(document.getElementById('map'),options);

   //Listen for click on map
   google.maps.event.addListener(map,'click',function(event){
     addMarker({coords:event.latLng});
   });

   //array for markers
   var markers = [
{
  coords:{lat:42.4668,lng:-70.9495},
  iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
  content:'<h1>Lynn MA</h1'
},
{
  coords:{lat:42.8584,lng:-70.9300},
  content:'<h1>Amesbury MA</h1>'
}
{
  coords:{lat:42.7762,lng:-71.0773}
}
];

//loop through markers
for(var i = 0; i<markers.length;i++){
  //add marker
  addMarker(markers[i]);
}

//add marker function
function addMarker(props){
  var marker = new google.maps.Marker({
    position: props.coords,
    map:map,
  });

//check for customicon
  if(props.iconImage){
// set icon image
marker.setIcon(props.iconImage);
  }

  //check content
  if(props.content){
    var infoWindow = new google.maps.InfoWindow({
      content: props.content
    });

    marker.addListener('clock',function(){
      infoWindow.open(map, marker);
    });
  }
}

}

//Gammal api kod från en annan video.
/*function initMap(){
var location = {lat: -59.858562,lng: 17.638927};
var map = new google.maps.Map(document.getElementById("map"),{
zoom: 4,
center: location
});
}*/



</script>
<div>
<h3><i>Bild på pong</i></h3>
<h3><i>Sen kan vi lägga in APIn här så att kartan visas</i></h3>
</div>
<h2><b>Lämna gärna en kommentar här om vad du tycker om Pong!</b><h2>
<form>
<br>
<input type="text" name="användarNamn" id="användarNamn">
<br>
<p>Namn:</p>
<br>
<br>
<input type="text" name="kommentar" id="kommentar">
<br>
<p>Kommentar</p>
<br>
<br>
<button id="skicka" type="submit" class="skicka">Skicka in</button>
<br>
</form>

<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA372PcuJQKYrKADjhHTLLDVcfsoCzF-4M&callback=initMap">
  </script>
</body>
</html>
